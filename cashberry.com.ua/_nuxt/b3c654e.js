(window.webpackJsonp=window.webpackJsonp||[]).push([[68,54],{437:function(t,e,n){"use strict";var o=n(3),r=(n(20),{methods:{setErrors:function(t,e){var n=this;return Object(o.a)(regeneratorRuntime.mark((function o(){var r,c;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:for(c in r={},t)r[c]=[n.$t("back_error.".concat(t[c]))];return o.next=4,n.$refs[e].setErrors(r);case 4:n.scrollToError();case 5:case"end":return o.stop()}}),o)})))()},scrollToError:function(){var t=document.querySelector(".validate-error");t&&t.scrollIntoView({behavior:"smooth",block:"center"})}}}),c=n(5),component=Object(c.a)(r,undefined,undefined,!1,null,null,null);e.a=component.exports},439:function(t,e,n){var content=n(450);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(49).default)("0ef93fc6",content,!0,{sourceMap:!1})},448:function(t,e,n){"use strict";var o={mixins:[n(92).a],props:{actionUrl:{type:String,required:!0},paymentFields:{type:Object,required:!0},name:{type:String,default:"gate".concat(Date.now())}},data:function(){return{visible:!1}},methods:{openModal:function(){this.scrollLock(),this.visible=!0},closeModal:function(t){this.$socket.unsubscribe("platon-channel-".concat(t)),this.cancelScrollLocks(),this.visible=!1},submitForm:function(){this.$refs.form.submit()}}},r=(n(449),n(5)),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.visible?n("div",{staticClass:"dt-payment-modal"},[n("form",{ref:"form",staticClass:"dt-payment-modal__form",attrs:{action:t.actionUrl,method:"POST",target:t.name}},t._l(t.paymentFields,(function(e,o){return n("input",{directives:[{name:"model",rawName:"v-model",value:t.paymentFields[o],expression:"paymentFields[key]"}],key:o,attrs:{name:o,type:"hidden"},domProps:{value:t.paymentFields[o]},on:{input:function(e){e.target.composing||t.$set(t.paymentFields,o,e.target.value)}}})})),0),t._v(" "),n("div",{staticClass:"dt-payment-modal__container"},[n("div",{staticClass:"dt-payment-modal__content-block"},[n("div",{staticClass:"dt-popup-button-close",attrs:{"data-test":"palaton-close"},on:{click:function(e){return t.closeModal(t.paymentFields.order)}}}),t._v(" "),n("div",{staticClass:"dt-payment-modal__platon-container"},[n("iframe",{class:"dt-payment-modal__platon-iframe",attrs:{src:"",height:"410",name:t.name,frameborder:"0"}})])])])]):t._e()}),[],!1,null,null,null);e.a=component.exports},449:function(t,e,n){"use strict";n(439)},450:function(t,e,n){var o=n(48)(!1);o.push([t.i,'.dt-payment-modal{top:0;left:0;width:100%;height:100%;z-index:10001;position:fixed}.dt-payment-modal .dt-popup-button-close{top:10px;right:10px}.dt-payment-modal:after{right:-15px;width:15px;height:100%;content:"";display:block;position:absolute;background-color:rgba(0,0,0,.5)}.dt-payment-modal__container{top:0;left:0;width:100%;height:100%;display:flex;z-index:100;position:absolute;align-items:center;justify-content:center;background:rgba(0,0,0,.5)}.dt-payment-modal__content-block{width:100%;height:90vh;z-index:5;padding:40px 10px 0;position:relative;overflow:auto;max-height:666px;max-width:510px;background:#fff;border-radius:10px}.dt-payment-modal__platon-container{height:100%;overflow:auto}.dt-payment-modal__platon-iframe{width:100%;height:99%;margin:0;padding:0;overflow:auto}@media (max-width:900px){.dt-payment-modal:after{content:none}}@media (max-width:500px){.dt-payment-modal__content-block{padding:20px 0 0;max-width:100%;max-height:440px;margin-left:20px;margin-right:20px}}',""]),t.exports=o},532:function(t,e,n){"use strict";var o=n(151),r={props:{recaptchaStatus:{required:!0,type:null|Boolean}},components:{ValidationError:o.a},methods:{successRecaptcha:function(){this.$emit("checkRecaptcha",!0)},failRecaptcha:function(){this.$emit("checkRecaptcha",!1)}}},c=n(5),component=Object(c.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("vue-recaptcha",{ref:"recaptcha",staticClass:"dt-g-recaptcha",class:{"validate-error":!1===t.recaptchaStatus},attrs:{sitekey:"6LegFIAUAAAAAJ_PYyg_Rcw4DrDHdpPftXR3hn8v"},on:{verify:t.successRecaptcha,expired:t.failRecaptcha}},[!1===this.recaptchaStatus?n("validation-error",{attrs:{message:t.$t("validator.recaptcha")}}):t._e()],1)}),[],!1,null,null,null);e.a=component.exports},588:function(t,e,n){var content=n(750);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(49).default)("732537fd",content,!0,{sourceMap:!1})},748:function(t,e,n){t.exports=n.p+"img/happy.78b6095.png"},749:function(t,e,n){"use strict";n(588)},750:function(t,e,n){var o=n(48)(!1);o.push([t.i,'.dt-pay-without-auth{padding:100px 20px 20px}.dt-pay-without-auth .dt-user-identification{max-width:500px;width:100%;margin:0 auto}.dt-pay-without-auth .dt-user-identification .dt-error-message{position:absolute;width:340px;transform:translateX(20px);left:100%;margin-top:0;top:-5px}.dt-pay-without-auth .dt-user-identification .dt-method-buttons__light{width:100px;font-size:14px;height:40px}.dt-pay-without-auth .dt-user-identification .dt-input-block__label{position:absolute;height:40px;display:flex;align-items:center;left:0;transform:translateX(-160px)}.dt-pay-without-auth .dt-user-identification__show-error .dt-error-message{display:flex}.dt-pay-without-auth .dt-user-identification__recaptcha{margin-top:20px;margin-bottom:20px;min-height:75px}.dt-pay-without-auth .dt-user-identification__recaptcha .dt-error-message{top:calc(50% - 25px)}.dt-pay-without-auth .dt-user-identification__fields-block{max-width:340px;width:100%;margin-left:auto}.dt-pay-without-auth .dt-user-identification__fields-block .dt-button-white{max-width:240px;height:45px;width:100%}.dt-pay-without-auth .dt-user-identification__info{font-size:14px;margin-bottom:30px}.dt-pay-without-auth .dt-user-identification__info p{margin:0}.dt-pay-without-auth .dt-select-sum{max-width:650px;margin:auto;width:100%;border:1px solid #e7e4df;border-radius:10px;padding:15px}.dt-pay-without-auth .dt-select-sum__payment-info{margin-top:10px}.dt-pay-without-auth .dt-select-sum__payment-info p{margin:0;font-size:14px}.dt-pay-without-auth .dt-select-sum__payment-info p:last-child{color:#a4a4a4}.dt-pay-without-auth .dt-select-sum__calculator-block{width:80%}.dt-pay-without-auth .dt-select-sum__calculator-block .vue-slider{margin:auto;padding:0!important}.dt-pay-without-auth .dt-select-sum__calculator-block .vue-slider-rail{background:linear-gradient(180deg,#e7e4df,#cecbc5);height:12px}.dt-pay-without-auth .dt-select-sum__calculator-block .vue-slider-process{background:linear-gradient(90deg,#0c0e15,#626469)}.dt-pay-without-auth .dt-select-sum__calculator-block .vue-slider-dot-handle{cursor:pointer;position:relative;width:28px;height:28px;border-radius:5px;background:linear-gradient(180deg,#eac46a,#f4e7a7 50%,#eac46a);box-sizing:border-box;box-shadow:.5px .5px 2px 1px rgba(0,0,0,.32)}.dt-pay-without-auth .dt-select-sum__calculator-block .vue-slider-dot-handle:after,.dt-pay-without-auth .dt-select-sum__calculator-block .vue-slider-dot-handle:before{content:"";position:absolute;top:6px;width:2px;height:16px;background-color:#000}.dt-pay-without-auth .dt-select-sum__calculator-block .vue-slider-dot-handle:before{left:9px}.dt-pay-without-auth .dt-select-sum__calculator-block .vue-slider-dot-handle:after{right:9px}.dt-pay-without-auth .dt-select-sum__calculator-value{font-weight:600;color:#504a41;margin-top:20px;text-align:center;width:100%;display:block;padding-bottom:20px}.dt-pay-without-auth .dt-select-sum__calculator-value input{font-size:46px;font-weight:600;color:#504a41;margin:0;padding:0;display:inline-block;width:170px;text-align:center;outline:none;border:none}.dt-pay-without-auth .dt-select-sum__mobile-input{display:none!important}.dt-pay-without-auth .dt-select-sum__calculator-slider{position:relative;display:flex;justify-content:center;align-items:center;margin-bottom:40px}.dt-pay-without-auth .dt-select-sum__range-minus,.dt-pay-without-auth .dt-select-sum__range-plus{height:20px;width:20px;position:absolute;top:calc(50% - 10px);background:#04060d;border-radius:5px;cursor:pointer}.dt-pay-without-auth .dt-select-sum__range-minus{left:0}.dt-pay-without-auth .dt-select-sum__range-plus{right:0}.dt-pay-without-auth .dt-select-sum__range-plus:before{content:"";height:10px;width:2px;position:absolute;left:0;right:0;top:0;bottom:0;margin:auto;background:#fbdd92}.dt-pay-without-auth .dt-select-sum__range-minus:after,.dt-pay-without-auth .dt-select-sum__range-plus:after{content:"";height:2px;width:10px;position:absolute;left:0;right:0;top:0;bottom:0;margin:auto;background:#fbdd92}.dt-pay-without-auth .dt-select-sum__range-rail{position:relative;width:calc(100% - 60px)}.dt-pay-without-auth .dt-select-sum__slider-after,.dt-pay-without-auth .dt-select-sum__slider-before{position:absolute;top:0;height:12px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.dt-pay-without-auth .dt-select-sum__slider-before{left:0;width:14px;border-radius:6px 0 0 6px;-webkit-border-radius:6px 0 0 6px;background-color:#0c0e15}.dt-pay-without-auth .dt-select-sum__slider-after{right:0;width:14px;border-radius:0 6px 6px 0;-webkit-border-radius:0 6px 6px 0;background:linear-gradient(180deg,#e7e4df,#cecbc5)}.dt-pay-without-auth .dt-select-sum__pay-button{max-width:240px;height:45px;margin-top:18px}.dt-pay-without-auth .dt-pay-result{max-width:650px;margin:auto;width:100%;border:1px solid #e7e4df;border-radius:10px;padding:15px}.dt-pay-without-auth .dt-pay-result .dt-button-dark{max-width:240px;height:45px;margin-top:20px;margin-bottom:10px}.dt-pay-without-auth .dt-pay-result__payment-info{margin-top:15px}.dt-pay-without-auth .dt-pay-result__payment-info p{margin:0}.dt-pay-without-auth__main-title{font-size:22px;font-weight:600;text-align:center;margin:0 0 20px}@media (max-width:1200px){.dt-pay-without-auth{padding-top:15px}.dt-pay-without-auth .dt-select-sum__desktop-input{display:none!important}.dt-pay-without-auth .dt-select-sum__mobile-input{display:inline-block!important}}@media (max-width:480px){.dt-pay-without-auth__main-title{font-weight:400;text-transform:uppercase;margin-bottom:10px}.dt-pay-without-auth{padding-top:15px}.dt-pay-without-auth .dt-user-identification .dt-error-message{position:static;width:100%;transform:none;margin-top:5px}.dt-pay-without-auth .dt-user-identification .dt-input-block__label{display:none}.dt-pay-without-auth .dt-user-identification .dt-button-white{max-width:100%}.dt-pay-without-auth .dt-user-identification .dt-method-buttons__light{height:55px;width:30%}.dt-pay-without-auth .dt-user-identification .dt-user-identification__recaptcha{display:flex;align-items:center;flex-direction:column;margin-left:auto;margin-right:auto}.dt-pay-without-auth .dt-user-identification .dt-user-identification__fields-block{max-width:100%}.dt-pay-without-auth .dt-select-sum{margin-top:20px;background-color:#fff;padding-bottom:30px}.dt-pay-without-auth .dt-select-sum__calculator-block{width:100%}.dt-pay-without-auth .dt-select-sum__pay-button{max-width:100%;height:50px}.dt-pay-without-auth .dt-pay-result{background-color:#fff;margin-top:20px}.dt-pay-without-auth .dt-pay-result .dt-button-dark{max-width:100%}.dt-pay-without-auth .dt-pay-result__icon{text-align:center}}',""]),t.exports=o},801:function(t,e,n){"use strict";n.r(e);n(25);var o=n(3),r=(n(20),n(91),n(93)),c=n(448),l={props:{userInfo:{type:Object}},data:function(){return{calcSum:0,minValue:1,maxValue:1,fullSum:"",isPreload:!1,paymentFormFields:{},paymentUrl:"",rangeValue:1,range_options:{dotSize:28,width:"calc(100% - 28px)",height:12,contained:!0,direction:"ltr",data:null,min:1,interval:1,disabled:!1,clickable:!0,duration:.2,adsorb:!1,lazy:!1,tooltip:"none",useKeyboard:!1}}},beforeMount:function(){this.fullSum=Math.ceil(this.userInfo.amount),this.maxValue=this.fullSum,this.calcSum=this.fullSum,this.changeRange(this.calcSum)},mounted:function(){this.userInfo.repayment_sum&&(this.calcSum=Math.min(this.userInfo.repayment_sum,this.userInfo.amount))},methods:{changeRange:function(t){this.calcSum=t,this.rangeValue=t},isFieldEmpty:function(){""===this.calcSum&&(this.calcSum=this.tempCalcValue)},clearField:function(){this.tempCalcValue=this.calcSum,this.calcSum=""},checkInputDragData:function(){this.calcSum>this.maxValue&&(this.calcSum=this.maxValue),this.calcSum<this.minValue&&(this.calcSum=this.minValue),this.calcSum=Math.floor(this.calcSum),this.changeRange(this.calcSum)},toIncremetDragValue:function(t,e){if(t){if(this.calcSum===this.maxValue)return;this.changeRange(this.calcSum+e)}else{if(this.calcSum===this.minValue)return;this.changeRange(this.calcSum-e)}},toRepay:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.calcSum&&t.$axios.$post("payment/create",{amount:t.calcSum,contract:t.userInfo.public_id}).then((function(e){if(e.requestUrl){t.paymentFormFields=e.formFields,t.paymentUrl=e.requestUrl,t.$refs.paymentForm.openModal(),setTimeout((function(){t.$refs.paymentForm.submitForm()}),500);var n=t.$socket.subscribe("platon-channel-".concat(t.paymentFormFields.order)),o=t;n.bind("payment-success",o.goToPayResult)}else t.$store.commit("setActiveModalName","TechnicalErrorModal"),console.error("Нету 'requestUrl' для платона")}));case 1:case"end":return e.stop()}}),e)})))()},goToPayResult:function(){var t=this;this.userInfo.channel&&this.userInfo.section&&this.userInfo.chat_id&&this.$axios.$post("https://".concat("prod"!==this.$store.state.envType?this.$store.state.envType+".":"","ext-api.cashberry.com.ua/get_auth_token"),{api_login:"chatbotadmin@admin.com",api_pass:"chatbotadmin"}).then((function(e){var n={channel:t.userInfo.channel,section:t.userInfo.section,chat_id:t.userInfo.chat_id,client_id:t.userInfo.client_id,amount:t.userInfo.amount};+t.userInfo.repayment_sum&&(n.repayment_sum=t.userInfo.repayment_sum),t.$axios.$post("https://".concat("prod"!==t.$store.state.envType?t.$store.state.envType+".":"","ext-api.cashberry.com.ua/api/chatbot/get_payment_status"),n,{headers:{Authorization:"Bearer ".concat(e.token)}})})),this.$refs.paymentForm.closeModal(this.paymentFormFields.order),this.$emit("goToPayResult",this.calcSum)}},components:{Preloader:r.a,PaymentModal:c.a}},d=n(5),h=Object(d.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dt-select-sum"},[n("transition",{attrs:{name:"fade"}},[t.isPreload?n("preloader"):t._e()],1),t._v(" "),n("div",{staticClass:"dt-gray-background"}),t._v(" "),n("div",[n("div",{staticClass:"dt-select-sum__user-info"},[n("span",[t._v(t._s(t.$t("pay_without_auth.set_sum_contract"))+" ")]),t._v(" "),n("b",[t._v(t._s(t.userInfo.public_id))])]),t._v(" "),n("div",{staticClass:"dt-select-sum__user-info"},[n("span",[t._v(t._s(t.$t("pay_without_auth.set_sum_full_name"))+" ")]),t._v(" "),n("b",[t._v(t._s(t.userInfo.surname)+" "+t._s(this.userInfo.name)+" "+t._s(t.userInfo.patronymic))])]),t._v(" "),n("div",{staticClass:"dt-select-sum__payment-info"},[n("p",[t._v("\n        "+t._s(t.$t("pay_without_auth.set_sum_info_first"))+"\n        "),n("span",[n("b",[t._v(t._s(Math.ceil(t.userInfo.amount))+" грн.")])])]),t._v(" "),t.userInfo.repayment_sum?n("p",[t._v("\n        "+t._s(t.$t("pay_without_auth.user_from_messenger_ready_to_pay"))+"\n        "),n("b",[t._v(t._s(t.userInfo.repayment_sum>t.userInfo.amount?t.userInfo.amount:t.userInfo.repayment_sum)+" грн.")])]):t._e(),t._v(" "),n("p"),t._v(" "),t.userInfo.repayment_sum?t._e():n("p",[t._v(t._s(t.$t("pay_without_auth.set_sum_info_second")))])]),t._v(" "),t.userInfo.repayment_sum?t._e():n("div",{staticClass:"dt-select-sum__calculator-block"},[n("div",{staticClass:"dt-select-sum__calculator-value"},[n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.calcSum,expression:"calcSum",modifiers:{number:!0}}],staticClass:"dt-select-sum__desktop-input",attrs:{type:"number","data-test":"calculator-desktop_input"},domProps:{value:t.calcSum},on:{focus:function(e){return t.clearField()},blur:[function(e){return t.isFieldEmpty()},function(e){return t.$forceUpdate()}],change:function(e){return t.checkInputDragData()},input:function(e){e.target.composing||(t.calcSum=t._n(e.target.value))}}}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.calcSum,expression:"calcSum",modifiers:{number:!0}}],staticClass:"dt-select-sum__mobile-input",attrs:{type:"number","data-test":"calculator-mobile_input"},domProps:{value:t.calcSum},on:{focus:function(e){return t.clearField()},blur:[function(e){return t.isFieldEmpty()},function(e){return t.$forceUpdate()}],change:function(e){return t.checkInputDragData()},input:function(e){e.target.composing||(t.calcSum=t._n(e.target.value))}}})]),t._v(" "),n("div",{staticClass:"dt-select-sum__calculator-slider"},[n("div",{staticClass:"dt-select-sum__range-minus",attrs:{"data-test":"calculator-minus"},on:{click:function(e){return t.toIncremetDragValue(!1,1)}}}),t._v(" "),n("div",{staticClass:"dt-select-sum__range-rail"},[n("div",{staticClass:"dt-select-sum__slider-before",on:{touchstart:function(e){return t.changeRange(t.minValue)},click:function(e){return t.changeRange(t.minValue)}}}),t._v(" "),n("client-only",[n("vue-slider",t._b({attrs:{max:t.maxValue},on:{change:function(e){return t.changeRange(e)},dragging:function(e){return t.changeRange(e)}},model:{value:t.rangeValue,callback:function(e){t.rangeValue=e},expression:"rangeValue"}},"vue-slider",t.range_options,!1))],1),t._v(" "),n("div",{staticClass:"dt-select-sum__slider-after",on:{touchstart:function(e){return t.changeRange(t.maxValue)},click:function(e){return t.changeRange(t.maxValue)}}})],1),t._v(" "),n("div",{staticClass:"dt-select-sum__range-plus",attrs:{"data-test":"calculator-plus"},on:{click:function(e){return t.toIncremetDragValue(!0,1)}}})])]),t._v(" "),n("div",{staticClass:"dt-select-sum__pay-button dt-button-dark",attrs:{"data-test":"pay_without-pay"},on:{click:t.toRepay}},[t._v(t._s(t.$t("pay_without_auth.set_sum_pay_button")))]),t._v(" "),n("payment-modal",{ref:"paymentForm",attrs:{"data-test":"pay_without-platon",paymentFields:t.paymentFormFields,actionUrl:t.paymentUrl}})],1)],1)}),[],!1,null,null,null).exports,m=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"dt-pay-result__icon"},[e("img",{attrs:{src:n(748),alt:""}})])}],_=(n(114),{data:function(){return{isCreditPaid:""}},props:{userInfo:{type:Object},paySum:{type:Number,required:!0}},mounted:function(){this.paySum===this.userInfo.amount?this.isCreditPaid=!0:this.isCreditPaid=!1}}),f=Object(d.a)(_,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dt-pay-result"},[n("div",{staticClass:"dt-gray-background"}),t._v(" "),n("div",[t._m(0),t._v(" "),n("div",{staticClass:"dt-pay-result__payment-info"},[n("p",[t._v(t._s(t.$t("pay_without_auth.result_info_first"))+" "),n("b",[n("span",[t._v(t._s(this.paySum))]),t._v(" грн.")])]),t._v(" "),t.isCreditPaid?n("p",[t._v(t._s(t.$t("pay_without_auth.result_info_second")))]):t._e()]),t._v(" "),n("nuxt-link",{staticClass:"dt-button-dark",attrs:{"data-test":"main-link",to:t.localePath("index")}},[t._v(t._s(t.$t("pay_without_auth.result_info_link")))])],1)])}),m,!1,null,null,null).exports,y=n(12),v=(n(50),n(18),n(152)),x=n(532),w=n(151),k=n(437),$=n(153),S={data:function(){return{phone:"+380 (",indetificationType:0,inn:"",contract:"",recaptchaStatus:null,isPreload:!1,formIndetificationType:"",formIndetificationValue:"",check_url:""}},components:{Recaptcha:x.a,TextInput:v.a,ValidationError:w.a,Preloader:r.a,PhoneInput:$.a},mixins:[k.a],methods:{checkRecaptcha:function(t){this.recaptchaStatus=t},changeIndetificationType:function(t){this.indetificationType=t},getIndetificationData:function(){0===this.indetificationType?(this.formIndetificationType="phone",this.formIndetificationValue=this.phone.replace(/\D/g,""),this.check_url="payment/check-phone"):1===this.indetificationType?(this.formIndetificationType="contract",this.formIndetificationValue=this.contract,this.check_url="payment/check-contract"):(this.formIndetificationType="inn",this.formIndetificationValue=this.inn,this.check_url="payment/check-inn")},onSubmit:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"prod"!==t.$store.state.envType?t.recaptchaStatus=!0:t.recaptchaStatus||(t.recaptchaStatus=!1),e.next=3,t.$refs.identification_observer.validate();case 3:if(e.t0=!e.sent,e.t0){e.next=6;break}e.t0=!t.recaptchaStatus;case 6:if(!e.t0){e.next=8;break}return e.abrupt("return");case 8:t.isPreload=!0,t.getIndetificationData(),t.$axios.$post(t.check_url,Object(y.a)({},t.formIndetificationType,t.formIndetificationValue)).then((function(e){Object.prototype.hasOwnProperty.call(e,"error_message")?t.$refs.identification_observer.setErrors(Object(y.a)({},t.formIndetificationType,[t.$t("back_error.data_not_found")])):t.$emit("setPersonalData",e),t.isPreload=!1})).catch((function(e){422===e.response.status?t.setErrors(e.response.data,"identification_observer"):t.$refs.identification_observer.setErrors(Object(y.a)({},t.formIndetificationType,[t.$t("validator.send_error")])),t.isPreload=!1}));case 11:case"end":return e.stop()}}),e)})))()}}},I={head:function(){return{title:this.$t("titles.pay_without_auth")}},data:function(){return{calcSum:0,userData:{},paymentState:0}},created:function(){this.$route.query.client_id&&+this.$route.query.amount&&this.$route.query.name&&this.$route.query.patronymic&&this.$route.query.surname&&this.$route.query.channel&&this.$route.query.section&&this.$route.query.chat_id&&+this.$route.query.public_id&&this.setPersonalData({name:this.$route.query.name,amount:+this.$route.query.amount,channel:this.$route.query.channel,section:this.$route.query.section,surname:this.$route.query.surname,chat_id:this.$route.query.chat_id,public_id:+this.$route.query.public_id,client_id:+this.$route.query.client_id,patronymic:this.$route.query.patronymic,repayment_sum:+this.$route.query.repayment_sum})},methods:{setPersonalData:function(t){this.userData=t,this.paymentState=1},goToPayResult:function(t){this.paymentState=2,this.calcSum=t}},components:{PayResult:f,SelectSum:h,UserIdentification:Object(d.a)(S,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dt-user-identification"},[n("transition",{attrs:{name:"fade"}},[t.isPreload?n("preloader"):t._e()],1),t._v(" "),n("div",{staticClass:"dt-user-identification__container"},[n("div",{staticClass:"dt-user-identification__info"},[n("p",[t._v(t._s(t.$t("pay_without_auth.ident_info_first")))]),t._v(" "),n("p",[t._v(t._s(t.$t("pay_without_auth.ident_info_second")))])]),t._v(" "),n("div",{staticClass:"dt-user-identification__fields-block"},[n("div",{staticClass:"dt-method-buttons"},[n("span",{staticClass:"dt-input-block__label"},[t._v(t._s(t.$t("pay_without_auth.ident_method")))]),t._v(" "),n("div",{staticClass:"dt-method-buttons__light",class:{"dt-method-buttons__dark":0===t.indetificationType},attrs:{"data-test":"pay_without-type_1"},on:{click:function(e){return t.changeIndetificationType(0)}}},[t._v("\n          "+t._s(t.$t("pay_without_auth.ident_phone"))+"\n        ")]),t._v(" "),n("div",{staticClass:"dt-method-buttons__light",class:{"dt-method-buttons__dark":1===t.indetificationType},attrs:{"data-test":"pay_without-type_2"},on:{click:function(e){return t.changeIndetificationType(1)}}},[t._v("\n          "+t._s(t.$t("pay_without_auth.ident_contract"))+"\n        ")]),t._v(" "),n("div",{staticClass:"dt-method-buttons__light",class:{"dt-method-buttons__dark":2===t.indetificationType},attrs:{"data-test":"pay_without-type_3"},on:{click:function(e){return t.changeIndetificationType(2)}}},[t._v("\n          "+t._s(t.$t("pay_without_auth.ident_inn"))+"\n        ")])]),t._v(" "),n("ValidationObserver",{ref:"identification_observer"},[0===t.indetificationType?n("ValidationProvider",{key:0,attrs:{vid:"phone",name:t.$t("validator.phone"),rules:{required:!0,regex:/^\+380\s\([0-9]{2}\)\s[0-9]{3}\-[0-9]{2}\-[0-9]{2}$/}},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[n("phone-input",{class:{"validate-error":o.length>0},attrs:{value:t.phone,"data-test":"pay_without-phone",label:t.$t("pay_without_auth.ident_phone")},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}},[o.length>0?n("validation-error",{attrs:{message:o[0]}}):t._e()],1)]}}],null,!1,417308685)}):1===t.indetificationType?n("ValidationProvider",{key:1,attrs:{vid:"contract",name:t.$t("validator.contract"),rules:"required|min:10"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[n("text-input",{class:{"validate-error":o.length>0},attrs:{value:t.contract,"data-test":"pay_without-contract",type:"tel",mask:["##########","###########"],label:t.$t("validator.contract"),placeholder:t.$t("validator.contract")},model:{value:t.contract,callback:function(e){t.contract=e},expression:"contract"}},[o.length>0?n("validation-error",{attrs:{message:o[0]}}):t._e()],1)]}}])}):n("ValidationProvider",{key:2,attrs:{vid:"inn",name:t.$t("validator.inn"),rules:"required|digits:10"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[n("text-input",{class:{"validate-error":o.length>0},attrs:{value:t.inn,"data-test":"pay_without-inn",mask:"##########",label:t.$t("pay_without_auth.ident_inn"),placeholder:t.$t("pay_without_auth.ident_inn")},model:{value:t.inn,callback:function(e){t.inn=e},expression:"inn"}},[o.length>0?n("validation-error",{attrs:{message:o[0]}}):t._e()],1)]}}])})],1),t._v(" "),n("Recaptcha",{staticClass:"dt-user-identification__recaptcha",attrs:{recaptchaStatus:this.recaptchaStatus},on:{checkRecaptcha:function(e){return t.checkRecaptcha(e)}}}),t._v(" "),n("div",{staticClass:"dt-button-white",attrs:{"data-test":"pay_without-submit"},on:{click:t.onSubmit}},[t._v(t._s(t.$t("pay_without_auth.ident_button")))])],1)])],1)}),[],!1,null,null,null).exports},nuxtI18n:{paths:{ru:"/oplata-bez-avtorizacii",ua:"/oplata-bez-avtorizaciyi"}}},C=(n(749),Object(d.a)(I,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dt-pay-without-auth"},[n("h1",{staticClass:"dt-pay-without-auth__main-title"},[t._v(t._s(t.$t("pay_without_auth.main_title")))]),t._v(" "),0===t.paymentState?n("user-identification",{on:{setPersonalData:t.setPersonalData}}):1===t.paymentState?n("select-sum",{attrs:{userInfo:this.userData},on:{goToPayResult:function(e){return t.goToPayResult(e)}}}):n("pay-result",{attrs:{userInfo:this.userData,paySum:this.calcSum}})],1)}),[],!1,null,null,null));e.default=C.exports}}]);
//# sourceMappingURL=b3c654e.js.map