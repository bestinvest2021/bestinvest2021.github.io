(window.webpackJsonp=window.webpackJsonp||[]).push([[67,54],{437:function(e,t,r){"use strict";var n=r(3),o=(r(20),{methods:{setErrors:function(e,t){var r=this;return Object(n.a)(regeneratorRuntime.mark((function n(){var o,l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(l in o={},e)o[l]=[r.$t("back_error.".concat(e[l]))];return n.next=4,r.$refs[t].setErrors(o);case 4:r.scrollToError();case 5:case"end":return n.stop()}}),n)})))()},scrollToError:function(){var e=document.querySelector(".validate-error");e&&e.scrollIntoView({behavior:"smooth",block:"center"})}}}),l=r(5),component=Object(l.a)(o,undefined,undefined,!1,null,null,null);t.a=component.exports},455:function(e,t,r){"use strict";r(94);var n={data:function(){return{currentValue:""}},components:{TheMask:r(95).TheMask},props:{placeholder:{type:String,default:"-- -- --"},label:{type:String,required:!1}},methods:{clearInput:function(){this.$refs.maskClearText.display=""},update:function(e){e.isTrusted?(this.$emit("input",e.target.value),this.$emit("inputEvent",e)):this.$emit("input",e.target.value)},focus:function(e){this.currentValue=e.target.value,this.$emit("focus")},blur:function(e){e.target.value!==this.currentValue&&this.$emit("change",e.target.value),this.$emit("blur")},copy:function(){this.$emit("copy")},paste:function(){this.$emit("paste")},mouseDown:function(){this.$emit("mouseDown")},keyup:function(e){this.$emit("keyup",e.key)},keydown:function(e){this.$emit("repeatInput",e.repeat)}}},o=r(5),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"dt-input-block"},[e.label?r("p",{staticClass:"dt-input-block__label"},[e._v(e._s(e.label))]):e._e(),e._v(" "),r("the-mask",{ref:"maskClearText",attrs:{type:"tel",masked:!0,placeholder:e.placeholder,"data-test":"code-input",mask:["#####"]},nativeOn:{input:function(t){return e.update(t)},focus:function(t){return e.focus(t)},blur:function(t){return e.blur(t)},copy:function(t){return e.copy(t)},paste:function(t){return e.paste(t)},mousedown:function(t){return e.mouseDown(t)},keyup:function(t){return e.keyup(t)},keydown:function(t){return e.keydown(t)}}}),e._v(" "),e._t("default")],2)}),[],!1,null,null,null);t.a=component.exports},609:function(e,t,r){var content=r(791);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(49).default)("7ade4e06",content,!0,{sourceMap:!1})},790:function(e,t,r){"use strict";r(609)},791:function(e,t,r){var n=r(48)(!1);n.push([e.i,".dt-pass-recovery{max-width:340px;width:100%;padding-top:20px;margin-left:auto;margin-right:auto}.dt-pass-recovery .dt-method-buttons{position:relative;display:flex;flex-direction:row;justify-content:space-between;margin-bottom:20px}.dt-pass-recovery .dt-method-buttons__light{width:48%;font-size:14px;height:40px}.dt-pass-recovery .dt-input-block__label{position:absolute;display:flex;height:40px;align-items:center;left:-150px}.dt-pass-recovery .dt-input-block{margin-bottom:20px}.dt-pass-recovery .dt-error-message{position:absolute;max-width:100%;width:-webkit-max-content;width:-moz-max-content;width:max-content;transform:translateX(20px);left:100%;margin-top:0;top:calc(50% - 25px)}.dt-pass-recovery__main-title{font-size:22px;font-weight:600;margin:0 0 20px}.dt-pass-recovery__continue-button{max-width:240px;width:100%;height:45px}.dt-pass-recovery__info-block{margin-top:20px;font-size:14px}.dt-pass-recovery__check-valid-password{display:flex;flex-direction:row;justify-content:space-between;width:100%;margin-bottom:20px}.dt-pass-recovery__check-valid-password div{display:flex;flex-direction:column;font-size:12px}.dt-pass-recovery__check-valid-password span{display:flex;align-items:center}.dt-pass-recovery__check-valid-password span svg{margin-right:5px}.dt-pass-recovery__check-valid-password .dt-add-user__password-valid{text-decoration:line-through}@media (max-width:680px){.dt-pass-recovery .dt-input-block__label{display:none}.dt-pass-recovery .dt-error-message{position:static;transform:none;margin-top:5px;width:100%}.dt-pass-recovery__main-title{font-size:22px;text-transform:uppercase;font-weight:300;text-align:center}.dt-pass-recovery__continue-button{max-width:100%;height:50px}}",""]),e.exports=n},855:function(e,t,r){"use strict";r.r(t);r(22),r(17),r(21),r(36),r(16),r(37);var n=r(3),o=r(12),l=(r(20),r(50),r(18),r(114),r(152)),c=r(151),d=r(153),h=r(437),v=r(157),_=r(455),m=r(93),f=r(38);function w(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var x={head:function(){return{title:this.$t("titles.pass_recovery")}},data:function(){return{identification:!0,email:"",inn:"",password:"",password_repeat:"",token:"",isShowTelephoneForm:!0,phone:"+380 (",hasNumber:!1,hasUpper:!1,hasLower:!1,hasSixChars:!1,showInn:!1,showPasswordError:!1,isPreload:!1}},mixins:[h.a],components:{TextInput:l.a,ValidationError:c.a,PhoneInput:d.a,PasswordInput:v.a,SmsCode:_.a,Preloader:m.a},nuxtI18n:{paths:{ru:"/vosstanovlenie-parolya",ua:"/vidnovlennya-parolyu"}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?w(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):w(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(f.c)({isMobileDevice:"isMobile"})),methods:{checkValue:function(e){this.token!==e&&(this.token=e)},changeInput:function(){this.hasNumber=/\d/.test(this.password),this.hasUpper=/[A-ZА-ЯЇЄІЁ]/.test(this.password),this.hasLower=/[a-zа-яїєіё]/.test(this.password),this.hasSixChars=this.password.length>=6},isTelephoneTab:function(e){this.isShowTelephoneForm=e},onSubmit:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.info_observer.validate();case 2:if(t.sent){t.next=5;break}return t.abrupt("return");case 5:e.inn?e.$axios.$post("reset-password/send-token",{email_or_phone:e.isShowTelephoneForm?e.phone.replace(/\D/g,""):e.email,inn:e.inn}).then((function(){e.identification=!1})).catch((function(t){422===t.response.status?e.setErrors(t.response.data,"info_observer"):e.$store.commit("setActiveModalName","TechnicalErrorModal")})):e.$axios.$post("reset-password/check",{email_or_phone:e.isShowTelephoneForm?e.phone.replace(/\D/g,""):e.email}).then((function(t){t.inn?e.showInn=!0:e.identification=!1})).catch((function(t){422===t.response.status?e.setErrors(t.response.data,"info_observer"):e.$store.commit("setActiveModalName","TechnicalErrorModal")}));case 6:case"end":return t.stop()}}),t)})))()},changePass:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.showPasswordError=!0,t.next=3,e.$refs.new_pass_observer.validate();case 3:if(t.sent){t.next=6;break}return t.abrupt("return");case 6:return e.isPreload=!0,r={password:e.password,password_repeat:e.password_repeat,email_or_phone:e.isShowTelephoneForm?e.phone.replace(/\D/g,""):e.email,inn:e.inn?Number(e.inn):"",token:e.token},t.next=10,e.$axios.$post("reset-password/change-password",r).then(function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$login({token:r.token}).then((function(){window.dataLayer.push({userID:e.$store.state.defaultData.user_id}),window.dataLayer.push({eventCategory:"Форма",eventAction:"Отправлена",eventLabel:"Авторизация",eventNonInteraction:"False",event:"autoEvent"}),e.$router.push(e.localePath("cabinet"))})).catch(function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.error(r),t.next=3,e.$logout();case 3:e.$store.commit("setActiveModalName","TechnicalErrorModal"),e.isPreload=!1;case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.isPreload=!1,422===t.response.status?e.setErrors(t.response.data,"new_pass_observer"):e.$store.commit("setActiveModalName","TechnicalErrorModal")}));case 10:case"end":return t.stop()}}),t)})))()}}},y=(r(790),r(5)),component=Object(y.a)(x,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"dt-pass-recovery"},[r("transition",{attrs:{name:"fade"}},[e.isPreload?r("preloader"):e._e()],1),e._v(" "),r("h1",{staticClass:"dt-pass-recovery__main-title"},[e._v(e._s(e.$t("pass_recovery.main_title")))]),e._v(" "),e.identification?r("div",{staticClass:"dt-pass-recovery__field-block"},[r("div",{staticClass:"dt-method-buttons"},[r("p",{staticClass:"dt-input-block__label"},[e._v(e._s(e.$t("login.select_label")))]),e._v(" "),r("div",{staticClass:"dt-method-buttons__light dt-noselect",class:{"dt-method-buttons__dark":e.isShowTelephoneForm},attrs:{"data-test":"recovery-tab_1"},on:{click:function(t){return e.isTelephoneTab(!0)}}},[e._v("\n        "+e._s(e.$t("login.authorization_phone"))+"\n      ")]),e._v(" "),r("div",{staticClass:"dt-method-buttons__light dt-noselect",class:{"dt-method-buttons__dark":!e.isShowTelephoneForm},attrs:{"data-test":"recovery-tab_2"},on:{click:function(t){return e.isTelephoneTab(!1)}}},[e._v("\n        E-mail\n      ")])]),e._v(" "),r("ValidationObserver",{key:1,ref:"info_observer"},[e.isShowTelephoneForm?r("ValidationProvider",{attrs:{vid:"phone",name:e.$t("validator.phone"),rules:{required:!0,regex:/^\+380\s\([0-9]{2}\)\s[0-9]{3}\-[0-9]{2}\-[0-9]{2}$/}},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[r("phone-input",{class:{"validate-error":n.length>0},attrs:{value:e.phone,"data-test":"recovery-phone",label:e.$t("login.phone_label")},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}},[n.length>0?r("validation-error",{attrs:{message:n[0]}}):e._e()],1)]}}],null,!1,273136974)}):r("ValidationProvider",{attrs:{vid:"email",name:"Email",rules:"required|email"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[r("text-input",{class:{"validate-error":n.length>0},attrs:{value:e.email,"data-test":"recovery-email",placeholder:"E-mail",label:"E-mail"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}},[n.length>0?r("validation-error",{attrs:{message:n[0]}}):e._e()],1)]}}],null,!1,3610100211)}),e._v(" "),e.showInn?r("ValidationProvider",{attrs:{vid:"inn",name:e.$t("validator.inn"),rules:"digits:10|required"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[r("text-input",{class:{"validate-error":n.length>0},attrs:{value:e.inn,"data-test":"recovery-inn",type:"tel",mask:"##########",label:e.$t("questionnaire.inn"),placeholder:e.isMobileDevice?e.$t("validator.inn"):"----------"},model:{value:e.inn,callback:function(t){e.inn=t},expression:"inn"}},[n.length>0?r("validation-error",{attrs:{message:n[0]}}):e._e()],1)]}}],null,!1,3900597345)}):e._e()],1),e._v(" "),r("div",{staticClass:"dt-pass-recovery__continue-button dt-button-white",attrs:{"data-test":"recovery-send_inn"},on:{click:e.onSubmit}},[e._v("\n      "+e._s(e.$t("pass_recovery.continue_button"))+"\n    ")]),e._v(" "),r("div",{staticClass:"dt-pass-recovery__info-block"},[r("p",[e._v(e._s(e.$t("pass_recovery.info_text")))])])],1):r("div",{staticClass:"dt-pass-recovery__field-block"},[r("ValidationObserver",{key:2,ref:"new_pass_observer"},[r("ValidationProvider",{attrs:{vid:"token",name:e.$t("validator.code"),rules:"required|digits:5"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[r("sms-code",{class:{"validate-error":n.length>0},attrs:{name:"token","data-test":"recovery-code",placeholder:e.isMobileDevice?e.$t("pass_recovery.code_label"):"- - - - -",label:e.$t("pass_recovery.code_label")},on:{change:function(t){return e.checkValue(t)}},model:{value:e.token,callback:function(t){e.token=t},expression:"token"}},[n.length>0?r("validation-error",{attrs:{message:n[0]}}):e._e()],1)]}}])}),e._v(" "),r("ValidationProvider",{attrs:{vid:"password",name:e.$t("validator.password"),rules:{required:!0,regex:/(\d.*[A-ZА-ЯЇЄІЁ].*[a-zа-яїєіё])|(\d.*[a-zа-яїєіё].*[A-ZА-ЯЇЄІЁ])|([A-ZА-ЯЇЄІЁ].*\d.*[a-zа-яїєіё])|([A-ZА-ЯЇЄІЁ].*[a-zа-яїєіё].*\d)|([a-zа-яїєіё].*\d.*[A-ZА-ЯЇЄІЁ])|([a-zа-яїєіё].*[A-ZА-ЯЇЄІЁ].*\d)/,min:6,max:20}},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[r("password-input",{class:{"validate-error":n.length>0},attrs:{"data-test":"recovery-password",placeholder:e.$t("validator.password"),label:e.$t("validator.password"),value:e.password},on:{input:e.changeInput},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}},[n.length>0?r("validation-error",{attrs:{message:n[0]}}):e._e()],1)]}}])}),e._v(" "),r("div",{staticClass:"dt-pass-recovery__check-valid-password"},[r("div",[r("span",{class:{"dt-add-user__password-valid":e.hasSixChars}},[r("svg",{staticStyle:{"padding-bottom":"-2px"},attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"12px",height:"12px"}},[r("path",{attrs:{fill:"currentColor",d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"}})]),e._v("\n            "+e._s(e.$t("add_user.min_symbols"))+"\n          ")]),e._v(" "),r("span",{class:{"dt-add-user__password-valid":e.hasLower}},[r("svg",{staticStyle:{"padding-bottom":"-2px"},attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"12px",height:"12px"}},[r("path",{attrs:{fill:"currentColor",d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"}})]),e._v("\n              "+e._s(e.$t("add_user.little_letters"))+"\n            ")])]),e._v(" "),r("div",[r("span",{class:{"dt-add-user__password-valid":e.hasUpper}},[r("svg",{staticStyle:{"padding-bottom":"-2px"},attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"12px",height:"12px"}},[r("path",{attrs:{fill:"currentColor",d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"}})]),e._v("\n            "+e._s(e.$t("add_user.large_letters"))+"\n          ")]),e._v(" "),r("span",{class:{"dt-add-user__password-valid":e.hasNumber}},[r("svg",{staticStyle:{"padding-bottom":"-2px"},attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"12px",height:"12px"}},[r("path",{attrs:{fill:"currentColor",d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"}})]),e._v("\n            "+e._s(e.$t("add_user.numbers"))+"\n            ")])])]),e._v(" "),r("ValidationProvider",{attrs:{vid:"password_repeat",name:e.$t("validator.password_repeat"),rules:"confirmed:password|required"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[r("password-input",{class:{"validate-error":n.length>0&&e.showPasswordError},attrs:{value:e.password_repeat,"data-test":"recovery-password_repeat",placeholder:e.$t("validator.password_repeat"),label:e.$t("validator.password_repeat")},on:{change:function(t){e.showPasswordError=!0}},model:{value:e.password_repeat,callback:function(t){e.password_repeat=t},expression:"password_repeat"}},[n.length>0&&e.showPasswordError?r("validation-error",{attrs:{message:n[0]}}):e._e()],1)]}}])})],1),e._v(" "),r("div",{staticClass:"dt-pass-recovery__continue-button dt-button-white",attrs:{"data-test":"recovery-change"},on:{click:e.changePass}},[e._v("\n      "+e._s(e.$t("pass_recovery.continue_button"))+"\n    ")])],1)],1)}),[],!1,null,null,null);t.default=component.exports}}]);
//# sourceMappingURL=8228311.js.map